# xgxr


## How to update/test/use package
* **Developing the package:** Run [_Package_Setup.R](_Package_Setup.R).  This will update the documentation, reinstall the package, and rebuild the vignette.
* **Installing the package for use in your project:** follow the directions below, also [here](_Package_Install_New_User.R).  There are a few options.
  * **Option 1:** Install directory from CRAN using install.packages("xgxr", lib = "./").  If you want it in your default library, you can delete the lib option.
  * **Option 2:** Install directly from Github to a local repository with the following command: `devtools::install_github("Novartis/xgxr", args = c('--library="./"'))`.  If you want to install it in your default library path, you can delete the "args" option.
  * **Option 3:** Download the package as a tar.gz file and then type: `install.packages("xgxr_1.0.4.tar.gz", repos = NULL, lib = "./", type = "source")`

      ```
  * **Last Resort Failsafe:** If you want to copy code from xGx exploratory graphics webpage but are unable to install the  `xgxr` package, you can use an older version of the website that does not make use of the `xgxr` package.  http://opensource.nibr.com/xgx_v1
  
## Your contribution
* If you will be helping to contribute, we make an effort to follow the [tidyverse style guide](https://style.tidyverse.org/index.html).

## Overview for how R packages (including this one) are organized

### Functions
Functions are located in the "R" folder.  
* When creating a new function, copy an existing one and follow the same format, with the documentation in the header
* When creating a new function, make sure to also add example code and some code to the vignette.
* For the function to be visible after the package is loaded, make sure to have the @export line.  

### Datasets
Sample datasets are stored in the the data folder as ".Rda" files and also, for convenience, in the inst/extdata folder as csv files.  Code for generating some of these datasets is stored in the data_create folder.  And the Single Ascending Dose PKPD dataset came from [https://github.com/dpastoor/PKPDdatasets/blob/master/R/PKPDdatasets.R#L31]

### Documentation
Documentation is located in the "man" folder.  Do not edit this folder.  Instead, edit the documentation within the function header and the documentation will be automatically created [as described here] (https://CRAN.R-project.org/web/packages/roxygen2/vignettes/roxygen2.html).

### Vignettes
Vignettes are documents that show how a package can be used.  They are located in the "vignettes" folder.  Build them using the devtools::build_vignettes() function.

### Description files
* The DESCRPTION file is where you list the dependencies on any other packages.
* The NAMESPACE file lists which packages are exported.  It should not be edited because it's automatically generated by the devtools::document() command

## Here are some links for learning more about packages
* [Hilary Parker's brief intro](https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/)
* [Hadley Wickham's book](http://r-pkgs.had.co.nz/)
* [Developing package with Rstudio](https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio)
* [Getting a package onto CRAN](https://CRAN.R-project.org/web/packages/policies.html)

## Coveralls.io for testing
Visit coveralls.io if later, we get to the point where we want to look at unit test coverage.
